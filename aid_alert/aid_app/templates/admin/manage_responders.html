{% extends 'admin/base_admin.html' %}
{% load static %}

{% block title %}Manage Responders - Admin Dashboard{% endblock %}
{% block page_title %}Manage Responders{% endblock %}

{% block admin_css %}
<link rel="stylesheet" href="{% static 'css/admin/manage_responders.css' %}">
{% endblock %}

{% block admin_content %}
<div class="glass-card" style="padding: 25px;">
    <div class="card-header-row" style="margin-bottom: 20px;">
        <h2 class="card-title">All Responders</h2>
    </div>

    <div class="filters-wrapper">
        <div class="search-box">
            <span class="material-icons-round search-icon" style="color: #999;">search</span>
            <input type="text" class="search-input" placeholder="Search by name, ID...">
        </div>
        <div class="dropdowns">
            <select class="filter-select">
                <option>Type</option>
                <option>Medical</option>
                <option>Fire</option>
                <option>Police</option>
                <option>Rescue</option>
            </select>
            <select class="filter-select">
                <option>Status</option>
                <option>Available</option>
                <option>On Duty</option>
                <option>Off Duty</option>
                <option>Unavailable</option>
            </select>
        </div>
    </div>

    <div class="table-responsive">
        <table class="data-table" style="width: 100%; border-collapse: collapse;">
            <thead>
                <tr style="border-bottom: 1px solid rgba(0,0,0,0.1);">
                    <th style="padding: 12px; text-align: left;">Responder ID</th>
                    <th style="padding: 12px; text-align: left;">Name</th>
                    <th style="padding: 12px; text-align: left;">Type</th>
                    <th style="padding: 12px; text-align: left;">Contact</th>
                    <th style="padding: 12px; text-align: left;">Location</th>
                    <th style="padding: 12px; text-align: left;">Status</th>
                    <th style="padding: 12px; text-align: left;">Actions</th>
                </tr>
            </thead>
            <tbody>
                {% for responder in responders %}
                <tr style="border-bottom: 1px solid rgba(0,0,0,0.05);">
                    <td style="padding: 12px;">{{ responder.responder_id }}</td>
                    <td style="padding: 12px; font-weight: 500;">{{ responder.name }}</td>
                    <td style="padding: 12px;">{{ responder.responder_type }}</td>
                    <td style="padding: 12px;">{{ responder.contact }}</td>
                    <td style="padding: 12px;">{{ responder.current_location }}</td>
                    <td style="padding: 12px;">
                        {% if responder.status == 'available' %}
                        <span class="badge badge-available">Available</span>
                        {% elif responder.status == 'on_duty' %}
                        <span class="badge badge-on-duty">On Duty</span>
                        {% elif responder.status == 'off_duty' %}
                        <span class="badge badge-off-duty">Off Duty</span>
                        {% else %}
                        <span class="badge badge-unavailable">Unavailable</span>
                        {% endif %}
                    </td>
                    <td style="padding: 12px;">
                        <div class="action-buttons">
                            <button class="btn-icon view-btn" title="View Details">
                                <span class="material-icons-round">visibility</span>
                            </button>
                            <button class="btn-icon edit-btn" title="Edit Responder">
                                <span class="material-icons-round">edit</span>
                            </button>
                        </div>
                    </td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="7" style="text-align: center; padding: 30px; color: #888;">No responders found.</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}

{% block admin_js %}
<script src="{% static 'js/admin/manage_responders.js' %}"></script>
{% endblock %}