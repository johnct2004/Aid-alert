{% extends 'admin/base_admin.html' %}
{% load static %}

{% block title %}Approve/Reject Sellers - Admin Dashboard{% endblock %}
{% block page_title %}Approve/Reject Sellers{% endblock %}

{% block admin_css %}
<link rel="stylesheet" href="{% static 'css/admin/approve_sellers.css' %}">
{% endblock %}

{% block admin_content %}
<div class="glass-card" style="padding: 25px;">
    <div class="card-header-row" style="margin-bottom: 20px;">
        <h2 class="card-title">Pending Seller Applications</h2>
    </div>

    <div class="filters-wrapper">
        <div class="search-box">
            <span class="material-icons-round search-icon" style="color: #999;">search</span>
            <input type="text" class="search-input" placeholder="Search Sellers">
        </div>
        <div class="dropdowns">
            <select class="filter-select">
                <option>Status</option>
                <option>Pending</option>
                <option>Approved</option>
                <option>Rejected</option>
            </select>
            <select class="filter-select">
                <option>Category</option>
                <option>Medical</option>
                <option>Food</option>
                <option>Supplies</option>
                <option>Equipment</option>
            </select>
        </div>
    </div>

    <div class="table-container" style="box-shadow: none; padding: 0; background: transparent;">
        <table class="data-table">
            <thead>
                <tr>
                    <th>Seller ID</th>
                    <th>Business Name</th>
                    <th>Owner</th>
                    <th>Category</th>
                    <th>Registration Date</th>
                    <th>Status</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                {% for seller_profile in sellers %}
                <tr>
                    <td>SEL-{{ seller_profile.id|stringformat:"03d" }}</td>
                    <td>{{ seller_profile.user.username }}</td>
                    <td>{{ seller_profile.user.get_full_name }}</td>
                    <td>General</td>
                    <td>{{ seller_profile.user.date_joined|date:"Y-m-d" }}</td>
                    <td>
                        {% if seller_profile.user.is_active %}
                        <span class="badge badge-approved">Approved</span>
                        {% else %}
                        <span class="badge badge-pending">Pending</span>
                        {% endif %}
                    </td>
                    <td>
                        {% if not seller_profile.user.is_active %}
                        <button class="btn-approve">Approve</button>
                        <button class="btn-reject">Reject</button>
                        {% else %}
                        <button class="btn-action">View Details</button>
                        {% endif %}
                    </td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="7" style="text-align: center; padding: 30px; color: #888;">No sellers found.</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}

{% block admin_js %}
<script src="{% static 'js/admin/approve_sellers.js' %}"></script>
{% endblock %}